<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="upload.js"></script>
</head>
<!--html5-->

<script>
    window.onload=function () {
//        var input=document.querySelector("input");
//        input.onchange=function () {//onchange  值发生改变的时候 触发事件；
//            var data=this.files[0];
//            var formObj=new FormData();//实例化一个表单对象
////            console.log(formObj)
//            formObj.append("file",data)
////            formObj.append("aa","bb");
////            formObj.set("aa","bb");
////            formObj.get("aa");
////            formObj.delete("aa")
//            console.log(ajax)
//            var ajax=new XMLHttpRequest();
//            ajax.upload.onprogress=function (e) {
//                var loaded=e.loaded;
//                var total=e.total;
//                var scal=loaded/total*100;
//                var inner=document.querySelector(".inner");
//                inner.style.width=scal+"%";
//                inner.innerHTML=scal.toFixed(2)+"%";
//            }
////            console.log(ajax)
//            ajax.open("post","load.php");
////            ajax.setRequestHeader("Content-application")
//            ajax.send(formObj);
//        }
        var obj=new upload("load.php",document.querySelector('input'),".inner","img");
        obj.up(function () {
                alert(1)
        })
        var div=document.querySelector("div");
    }
</script>
<style>
    .box{
        width: 300px;
        height: 10px;
        border:1px solid #000;
        position: relative;
    }
    .inner{
        width:0%;
        height:100%;
        background: green;
        position: absolute;
        top:0;
        left:0;
    }
    .img img{
        width:300px;
        height:300px;
        border:1px solid #000;
    }
</style>
<body>
<input type="file" multiple="multiple" class="one">
<!--可多选-->
<div class="box" >
    <div class="inner"></div>
</div>
<div class="img">
    <img src="" alt="">
</div>
</body>
</html>